#!/usr/bin/env ruby

require 'fileutils'

case ARGV[0]
when 'new'
  STDOUT.puts 'Creating new pub directory structure...'
  FileUtils.mkpath  'assets'
  FileUtils.mkdir   'content/chapters'
  FileUtils.mkdir   'output'
  FileUtils.touch   'content/cover.md'
  FileUtils.touch   'content/preface.md'
  FileUtils.touch   'content/chapters/1.md'
  FileUtils.cp_r(Dir.glob(File.join(File.expand_path(File.dirname(__FILE__)), 'assets', '*')),
                    File.join(Dir.pwd, 'assets'))
when 'generate'
  STDOUT.puts 'Generating PDF to output directory...'
  require 'my_ebook_pub'
  MyEbookPub.generate('render.pdf')
else
  STDOUT.puts <<-EOF
Please provide command name

Usage:
  pub new
  pub generate
EOF
end
